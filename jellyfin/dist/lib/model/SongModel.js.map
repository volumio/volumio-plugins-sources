{"version":3,"file":"SongModel.js","sourceRoot":"","sources":["../../../src/lib/model/SongModel.ts"],"names":[],"mappings":";;;;;AAAA,uFAAmF;AACnF,uEAAsE;AACtE,0CAAyC;AAEzC,4DAAwE;AACxE,qEAA6C;AAC7C,yEAAiD;AAEjD,MAAqB,SAAU,SAAQ,mBAAS;IAE9C,QAAQ,CAAC,MAAsB;QAC7B,MAAM,MAAM,GAAG,IAAI,oBAAU,EAAE,CAAC;QAChC,OAAO,IAAI,CAAC,eAAe,CAAO;YAChC,GAAG,MAAM;YACT,SAAS,EAAE,qBAAU,CAAC,IAAI;YAC1B,MAAM,EAAE,CAAE,wBAAU,CAAC,YAAY,CAAE;SACpC,EAAE,MAAM,CAAC,CAAC;IACb,CAAC;IAED,OAAO,CAAC,EAAU;QAChB,MAAM,MAAM,GAAG,IAAI,oBAAU,EAAE,CAAC;QAChC,OAAO,IAAI,CAAC,cAAc,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC;IACrD,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,EAAU;QACxB,MAAM,GAAG,GAAG,IAAA,yBAAY,EAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QAC9C,MAAM,GAAG,GAAG,MAAM,GAAG,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC;QAChD,MAAM,MAAM,GAAG,IAAI,sBAAY,EAAE,CAAC;QAClC,OAAO,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;CACF;AAtBD,4BAsBC","sourcesContent":["import { ItemFields } from '@jellyfin/sdk/lib/generated-client/models/item-fields';\nimport { getLyricsApi } from '@jellyfin/sdk/lib/utils/api/lyrics-api';\nimport { EntityType } from '../entities';\nimport Song from '../entities/Song';\nimport BaseModel, { GetItemsParams, GetItemsResult } from './BaseModel';\nimport SongParser from './parser/SongParser';\nimport LyricsParser from './parser/LyricsParser';\n\nexport default class SongModel extends BaseModel {\n\n  getSongs(params: GetItemsParams): Promise<GetItemsResult<Song>> {\n    const parser = new SongParser();\n    return this.getItemsFromAPI<Song>({\n      ...params,\n      itemTypes: EntityType.Song,\n      fields: [ ItemFields.MediaSources ]\n    }, parser);\n  }\n\n  getSong(id: string) {\n    const parser = new SongParser();\n    return this.getItemFromApi({ itemId: id }, parser);\n  }\n\n  async getLyrics(id: string) {\n    const api = getLyricsApi(this.connection.api);\n    const dto = await api.getLyrics({ itemId: id });\n    const parser = new LyricsParser();\n    return parser.parseDto(dto.data);\n  }\n}\n"]}