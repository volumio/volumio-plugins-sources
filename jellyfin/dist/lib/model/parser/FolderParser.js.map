{"version":3,"file":"FolderParser.js","sourceRoot":"","sources":["../../../../src/lib/model/parser/FolderParser.ts"],"names":[],"mappings":";;;;;AACA,sEAAyE;AAEzE,6CAA4C;AAC5C,kDAA2D;AAC3D,8DAAsC;AAEtC,MAAqB,YAAa,SAAQ,oBAAkB;IAE1D,KAAK,CAAC,QAAQ,CAAC,IAAiB,EAAE,GAAQ;QACxC,MAAM,IAAI,GAAG,MAAM,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAC7C,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,qBAAY,CAAC,MAAM;YAC7C,IAAI,CAAC,IAAI,KAAK,qBAAY,CAAC,gBAAgB,IAAI,IAAI,CAAC,IAAI,KAAK,qBAAY,CAAC,QAAQ,CAAC,EAAE;YACrF,OAAO,IAAI,CAAC;SACb;QAED,MAAM,MAAM,GAAW;YACrB,GAAG,IAAI;YACP,IAAI,EAAE,IAAI,CAAC,IAAI,KAAK,qBAAY,CAAC,gBAAgB,CAAC,CAAC,CAAC,qBAAU,CAAC,gBAAgB,CAAC,CAAC,CAAC,qBAAU,CAAC,MAAM;SACpG,CAAC;QAEF,IAAI,IAAI,CAAC,IAAI,KAAK,qBAAY,CAAC,gBAAgB,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE;YACpF,MAAM,CAAC,UAAU,GAAG,mBAAU,CAAC,WAAW,CAAC;SAC5C;aACI;YACH,MAAM,CAAC,UAAU,GAAG,mBAAU,CAAC,MAAM,CAAC;SACvC;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AAvBD,+BAuBC","sourcesContent":["import { Api } from '@jellyfin/sdk';\nimport { BaseItemKind } from '@jellyfin/sdk/lib/generated-client/models';\nimport { BaseItemDto } from '@jellyfin/sdk/lib/generated-client/models/base-item-dto';\nimport { EntityType } from '../../entities';\nimport Folder, { FolderType } from '../../entities/Folder';\nimport BaseParser from './BaseParser';\n\nexport default class FolderParser extends BaseParser<Folder> {\n\n  async parseDto(data: BaseItemDto, api: Api): Promise<Folder | null> {\n    const base = await super.parseDto(data, api);\n    if (!base || (data.Type !== BaseItemKind.Folder &&\n      data.Type !== BaseItemKind.CollectionFolder && data.Type !== BaseItemKind.UserView)) {\n      return null;\n    }\n\n    const result: Folder = {\n      ...base,\n      type: data.Type === BaseItemKind.CollectionFolder ? EntityType.CollectionFolder : EntityType.Folder\n    };\n\n    if (data.Type === BaseItemKind.CollectionFolder && data.CollectionType === 'boxsets') {\n      result.folderType = FolderType.Collections;\n    }\n    else {\n      result.folderType = FolderType.Folder;\n    }\n\n    return result;\n  }\n}\n"]}