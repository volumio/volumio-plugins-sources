{"version":3,"file":"SearchController.js","sourceRoot":"","sources":["../../../../src/lib/controller/search/SearchController.ts"],"names":[],"mappings":";;;;;AACA,oGAA4E;AAC5E,oFAA4D;AAM5D,MAAqB,gBAAgB;IAEnC,KAAK,CAAC,MAAM,CAAC,KAAkB;QAC7B,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACnD,MAAM,UAAU,GAAe;YAC7B,IAAI,EAAE,QAAQ;YACd,KAAK,EAAE,SAAS;SACjB,CAAC;QACF,MAAM,SAAS,GAAG,WAAW,oBAAU,CAAC,2BAA2B,CAAC,UAAU,CAAC,EAAE,CAAC;QAClF,MAAM,OAAO,GAAG,4BAAkB,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QACzD,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,MAAM,EAAE,CAAC;QAEpC,OAAO,IAAI,CAAC,UAAU,EAAE,KAAK,IAAI,EAAE,CAAC;IACtC,CAAC;CACF;AAdD,mCAcC","sourcesContent":["import { SearchView } from '../browse/view-handlers/SearchViewHandler';\nimport ViewHandlerFactory from '../browse/view-handlers/ViewHandlerFactory';\nimport ViewHelper from '../browse/view-handlers/ViewHelper';\n\nexport interface SearchQuery {\n  value: string;\n}\n\nexport default class SearchController {\n\n  async search(query: SearchQuery) {\n    const safeQuery = query.value.replace(/\"/g, '\\\\\"');\n    const searchView: SearchView = {\n      name: 'search',\n      query: safeQuery\n    };\n    const searchUri = `ytmusic/${ViewHelper.constructUriSegmentFromView(searchView)}`;\n    const handler = ViewHandlerFactory.getHandler(searchUri);\n    const page = await handler.browse();\n\n    return page.navigation?.lists || [];\n  }\n}\n"]}