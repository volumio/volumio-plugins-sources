{"version":3,"file":"RootViewHandler.js","sourceRoot":"","sources":["../../../../../src/lib/controller/browse/view-handlers/RootViewHandler.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,6EAA8C;AAC9C,sDAA4E;AAC5E,wEAAgD;AAIhD,8DAAsC;AAGtC,MAAM,cAAc,GAAG;IACrB,IAAI,EAAE,cAAc;IACpB,OAAO,EAAE,iBAAiB;IAC1B,OAAO,EAAE,yBAAyB;IAClC,OAAO,EAAE,iBAAiB;CAC3B,CAAC;AAMF,MAAqB,eAAgB,SAAQ,yBAAyB;IAAtE;;;IA+DA,CAAC;IA7DC,MAAM;QACJ,MAAM,KAAK,GAAuB;YAChC;gBACE,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,cAAc;gBACpB,KAAK,EAAE,wBAAO,CAAC,OAAO,CAAC,cAAc,CAAC;gBACtC,GAAG,EAAE,uBAAA,IAAI,iEAAc,MAAlB,IAAI,EAAe,cAAc,CAAC,IAAI,CAAC;gBAC5C,IAAI,EAAE,YAAY;aACnB;YACD;gBACE,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,cAAc;gBACpB,KAAK,EAAE,wBAAO,CAAC,OAAO,CAAC,iBAAiB,CAAC;gBACzC,GAAG,EAAE,uBAAA,IAAI,iEAAc,MAAlB,IAAI,EAAe,cAAc,CAAC,OAAO,CAAC;gBAC/C,IAAI,EAAE,kBAAkB;aACzB;YACD;gBACE,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,cAAc;gBACpB,KAAK,EAAE,wBAAO,CAAC,OAAO,CAAC,iBAAiB,CAAC;gBACzC,GAAG,EAAE,uBAAA,IAAI,iEAAc,MAAlB,IAAI,EAAe,cAAc,CAAC,OAAO,CAAC;gBAC/C,IAAI,EAAE,gBAAgB;aACvB;YACD;gBACE,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,cAAc;gBACpB,KAAK,EAAE,wBAAO,CAAC,OAAO,CAAC,iBAAiB,CAAC;gBACzC,GAAG,EAAE,uBAAA,IAAI,iEAAc,MAAlB,IAAI,EAAe,cAAc,CAAC,OAAO,CAAC;gBAC/C,IAAI,EAAE,eAAe;aACtB;SACF,CAAC;QAEF,OAAO,OAAO,CAAC,OAAO,CAAC;YACrB,UAAU,EAAE;gBACV,IAAI,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;gBAClB,KAAK,EAAE;oBACL;wBACE,KAAK,EAAE,eAAe;wBACtB,kBAAkB,EAAE,CAAE,MAAM,EAAE,MAAM,CAAE;wBACtC,KAAK;qBACN;iBACF;aACF;SACF,CAAC,CAAC;IACL,CAAC;CAiBF;mHAfe,QAAgB;IAC5B,MAAM,QAAQ,GAAmB;QAC/B,IAAI,EAAE,uBAAY,CAAC,MAAM;QACzB,OAAO,EAAE;YACP,QAAQ;SACT;KACF,CAAC;IAEF,MAAM,UAAU,GAAgB;QAC9B,IAAI,EAAE,SAAS;QACf,QAAQ;KACT,CAAC;IAEF,OAAO,WAAW,oBAAU,CAAC,2BAA2B,CAAC,UAAU,CAAC,EAAE,CAAC;AACzE,CAAC;kBA9DkB,eAAe","sourcesContent":["import ytmusic from '../../../YTMusicContext';\nimport { type BrowseEndpoint, EndpointType } from '../../../types/Endpoint';\nimport BaseViewHandler from './BaseViewHandler';\nimport { type GenericView } from './GenericViewHandler';\nimport type View from './View';\nimport { type RenderedPage } from './ViewHandler';\nimport ViewHelper from './ViewHelper';\nimport { type RenderedListItem } from './renderers/BaseRenderer';\n\nconst ROOT_ENDPOINTS = {\n  HOME: 'FEmusic_home',\n  EXPLORE: 'FEmusic_explore',\n  LIBRARY: 'FEmusic_library_landing',\n  HISTORY: 'FEmusic_history'\n};\n\nexport interface RootView extends View {\n  name: 'root';\n}\n\nexport default class RootViewHandler extends BaseViewHandler<RootView> {\n\n  browse(): Promise<RenderedPage> {\n    const items: RenderedListItem[] = [\n      {\n        service: 'ytmusic',\n        type: 'item-no-menu',\n        title: ytmusic.getI18n('YTMUSIC_HOME'),\n        uri: this.#constructUri(ROOT_ENDPOINTS.HOME),\n        icon: 'fa fa-home'\n      },\n      {\n        service: 'ytmusic',\n        type: 'item-no-menu',\n        title: ytmusic.getI18n('YTMUSIC_EXPLORE'),\n        uri: this.#constructUri(ROOT_ENDPOINTS.EXPLORE),\n        icon: 'fa fa-binoculars'\n      },\n      {\n        service: 'ytmusic',\n        type: 'item-no-menu',\n        title: ytmusic.getI18n('YTMUSIC_LIBRARY'),\n        uri: this.#constructUri(ROOT_ENDPOINTS.LIBRARY),\n        icon: 'fa fa-bookmark'\n      },\n      {\n        service: 'ytmusic',\n        type: 'item-no-menu',\n        title: ytmusic.getI18n('YTMUSIC_HISTORY'),\n        uri: this.#constructUri(ROOT_ENDPOINTS.HISTORY),\n        icon: 'fa fa-history'\n      }\n    ];\n\n    return Promise.resolve({\n      navigation: {\n        prev: { uri: '/' },\n        lists: [\n          {\n            title: 'YouTube Music',\n            availableListViews: [ 'list', 'grid' ],\n            items\n          }\n        ]\n      }\n    });\n  }\n\n  #constructUri(browseId: string): string {\n    const endpoint: BrowseEndpoint = {\n      type: EndpointType.Browse,\n      payload: {\n        browseId\n      }\n    };\n\n    const targetView: GenericView = {\n      name: 'generic',\n      endpoint\n    };\n\n    return `ytmusic/${ViewHelper.constructUriSegmentFromView(targetView)}`;\n  }\n}\n"]}