{"version":3,"file":"PlaylistViewHandler.js","sourceRoot":"","sources":["../../../../../src/lib/controller/browse/view-handlers/PlaylistViewHandler.ts"],"names":[],"mappings":";;;;;AAAA,0CAA2C;AAG3C,8EAAuE;AAUvE,MAAqB,mBAAoB,SAAQ,4BAAgC;IAErE,KAAK,CAAC,WAAW;QACzB,MAAM,QAAQ,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QAC/D,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,iBAAS,CAAC,QAAQ,CAAC,CAAC;QAChD,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnD,OAAO,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IAC3C,CAAC;IAES,WAAW,CAAC,OAAiB;QACrC,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YACjC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;SAC/D;QACD,OAAO,KAAK,CAAC,WAAW,EAAE,CAAC;IAC7B,CAAC;CACF;AAjBD,sCAiBC","sourcesContent":["import { ModelType } from '../../../model';\nimport { PageContent } from '../../../types/Content';\nimport Endpoint from '../../../types/Endpoint';\nimport GenericViewHandler, { GenericView } from './GenericViewHandler';\n\nexport interface PlaylistView extends Omit<GenericView, 'name'> {\n  name: 'playlist',\n  endpoints: {\n    browse: Endpoint;\n    watch: Endpoint;\n  };\n}\n\nexport default class PlaylistViewHandler extends GenericViewHandler<PlaylistView> {\n\n  protected async getContents(): Promise<PageContent> {\n    const endpoint = this.assertEndpointExists(this.getEndpoint());\n    const model = this.getModel(ModelType.Playlist);\n    const contents = await model.getContents(endpoint);\n    return this.assertPageContents(contents);\n  }\n\n  protected getEndpoint(explode?: boolean): Endpoint | null {\n    const view = this.currentView;\n    if (!view.continuation) {\n      const endpoints = view.endpoints;\n      return (explode ? endpoints.watch : endpoints.browse) || null;\n    }\n    return super.getEndpoint();\n  }\n}\n"]}