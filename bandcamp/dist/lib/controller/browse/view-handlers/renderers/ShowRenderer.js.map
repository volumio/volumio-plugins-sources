{"version":3,"file":"ShowRenderer.js","sourceRoot":"","sources":["../../../../../../src/lib/controller/browse/view-handlers/renderers/ShowRenderer.ts"],"names":[],"mappings":";;;;;AAAA,kFAAmD;AACnD,kEAAgF;AAChF,yEAAiD;AAGjD,+DAAuC;AAEvC,MAAqB,YAAa,SAAQ,sBAAwB;IAEhE,gBAAgB,CAAC,IAAgB,EAAE,WAAW,GAAG,KAAK;QACpD,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;YACb,OAAO,IAAI,CAAC;SACb;QACD,MAAM,QAAQ,GAAa;YACzB,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,IAAI,CAAC,GAAG;SAClB,CAAC;QACF,MAAM,MAAM,GAAqB;YAC/B,OAAO,EAAE,UAAU;YACnB,IAAI,EAAE,QAAQ;YACd,KAAK,EAAE,IAAI,CAAC,IAAI;YAChB,MAAM,EAAE,kBAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC;YACxC,QAAQ,EAAE,IAAI,CAAC,SAAS;YACxB,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,oBAAU,CAAC,2BAA2B,CAAC,QAAQ,CAAC,EAAE;SACvE,CAAC;QAEF,IAAI,WAAW,EAAE;YACf,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC;YACrB,MAAM,CAAC,KAAK,GAAG,yBAAQ,CAAC,OAAO,CAAC,yBAAyB,CAAC,CAAC;YAC3D,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;YACtB,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAChC,OAAO,MAAM,CAAC,MAAM,CAAC;SACtB;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,cAAc,CAAC,IAAgB;QAC7B,OAAO;YACL,KAAK,EAAE,IAAI,CAAC,GAAG;YACf,SAAS,EAAE,UAAU;YACrB,MAAM,EAAE,MAAM;YACd,OAAO,EAAE,IAAI,CAAC,IAAI;YAClB,QAAQ,EAAE,yBAAQ,CAAC,OAAO,CAAC,sBAAsB,CAAC;YAClD,MAAM,EAAE,IAAI,CAAC,IAAI;YACjB,UAAU,EAAE,IAAI,CAAC,WAAW;YAC5B,UAAU,EAAE,IAAI,CAAC,SAAS;SAC3B,CAAC;IACJ,CAAC;CACF;AA1CD,+BA0CC","sourcesContent":["import bandcamp from '../../../../BandcampContext';\nimport BaseRenderer, { RenderedHeader, RenderedListItem } from './BaseRenderer';\nimport UIHelper from '../../../../util/UIHelper';\nimport ShowEntity from '../../../../entities/ShowEntity';\nimport { ShowView } from '../ShowViewHandler';\nimport ViewHelper from '../ViewHelper';\n\nexport default class ShowRenderer extends BaseRenderer<ShowEntity> {\n\n  renderToListItem(data: ShowEntity, playOnClick = false): RenderedListItem | null {\n    if (!data.url) {\n      return null;\n    }\n    const showView: ShowView = {\n      name: 'show',\n      showUrl: data.url\n    };\n    const result: RenderedListItem = {\n      service: 'bandcamp',\n      type: 'folder',\n      title: data.name,\n      artist: UIHelper.reformatDate(data.date),\n      albumart: data.thumbnail,\n      uri: `${this.uri}/${ViewHelper.constructUriSegmentFromView(showView)}`\n    };\n\n    if (playOnClick) {\n      result.type = 'song';\n      result.title = bandcamp.getI18n('BANDCAMP_SHOW_PLAY_FULL');\n      result.uri = this.uri;\n      result.duration = data.duration;\n      delete result.artist;\n    }\n\n    return result;\n  }\n\n  renderToHeader(data: ShowEntity): RenderedHeader | null {\n    return {\n      'uri': this.uri,\n      'service': 'bandcamp',\n      'type': 'song',\n      'title': data.name,\n      'artist': bandcamp.getI18n('BANDCAMP_HEADER_SHOW'),\n      'year': data.date,\n      'duration': data.description,\n      'albumart': data.thumbnail\n    };\n  }\n}\n"]}